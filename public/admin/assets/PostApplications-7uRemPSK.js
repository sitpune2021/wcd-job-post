import{c as Y,r as c,A as Z,a as $,z as y,j as e,B as f,b as ee,u as se,y as te,x as ae,E as re,F as le}from"./index-sc-SFr2S.js";import{D as ie}from"./DataTable-ByMG-nip.js";import{j as ne}from"./admin.service-BcPyWYaN.js";import{g as ce}from"./master.service-BRT2fclr.js";import{M as oe,u as de}from"./useFloatingTooltip-DJFsf_Pz.js";import{M as me}from"./MediaViewer-BDOGJqm7.js";import{f as xe}from"./date-za-3UH_q.js";import{C as H}from"./circle-check-big-sBo8KNPK.js";import{C as pe}from"./circle-alert-Bay0b0SV.js";import{C as M,a as ue}from"./clock-Lfw71tU9.js";import{A as he}from"./arrow-left-CBBbaZbx.js";import{F as fe}from"./funnel-z5asOUUR.js";import"./useDebounce-DKa2rmUY.js";import"./triangle-alert-Bk_Dupw5.js";import"./DocumentViewer-CGwEabKM.js";import"./download-DJF4dsJ7.js";const ge=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],U=Y("pause",ge);const be=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X=Y("user-check",be),je=({isOpen:A,onClose:k,applicationId:g,onVerificationComplete:w})=>{const[h,O]=c.useState([]),[B,R]=c.useState(!1),[o,u]=c.useState([]),[N,L]=c.useState(!1),[m,J]=c.useState(null),[S,F]=c.useState(!1),[D,V]=c.useState(""),[d,v]=c.useState(null),{hasPermission:C}=Z();c.useEffect(()=>{A&&g&&T()},[A,g]);const T=async()=>{R(!0);try{const[s,l]=await Promise.all([$.get(`/admin/review/applications/${g}/documents`),$.get(`/admin/review/applications/${g}`)]);s.data.success&&O(s.data.data.documents),l.data.success&&J(l.data.data)}catch(s){y.error(s.response?.data?.message||"Failed to fetch documents")}finally{R(!1)}},b=s=>{u(l=>l.find(n=>n.type===s.type&&n.referenceId===s.referenceId)?l.filter(n=>!(n.type===s.type&&n.referenceId===s.referenceId)):[...l,{type:s.type,referenceId:s.referenceId,path:s.path}])},E=()=>{o.length===h.length?u([]):u(h.map(s=>({type:s.type,referenceId:s.referenceId,path:s.path})))},G=async s=>{if(o.length===0){y.error("Please select at least one document");return}L(!0);try{const l=o.map(n=>({type:n.type,referenceId:n.referenceId,path:n.path,status:s,remarks:null})),x=await $.post(`/admin/review/applications/${g}/verify-documents`,{documents:l});x.data.success&&(y.success(`${x.data.data.verifiedCount} document(s) ${s==="VERIFIED"?"verified":"rejected"}`),await T(),u([]),w&&w(x.data.data))}catch(l){y.error(l.response?.data?.message||"Failed to verify documents")}finally{L(!1)}},z=async s=>{L(!0);try{const l=await $.post(`/admin/review/applications/${g}/verify-all-documents`,{status:s});l.data.success&&(y.success(`All documents ${s==="VERIFIED"?"verified":"rejected"}`),await T(),u([]),w&&w(l.data.data))}catch(l){y.error(l.response?.data?.message||"Failed to verify all documents")}finally{L(!1)}},q=s=>{switch(s){case"VERIFIED":return e.jsx(H,{className:"w-5 h-5 text-green-600"});case"REJECTED":return e.jsx(M,{className:"w-5 h-5 text-red-600"});default:return e.jsx(ue,{className:"w-5 h-5 text-yellow-600"})}},K=s=>{const l={VERIFIED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800",PENDING:"bg-yellow-100 text-yellow-800"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l[s]}`,children:s})},Q=async s=>{F(!0);try{let l,x;m?.status==="PROVISIONAL_SELECTED"?(l=`/admin/review/applications/${g}/final-selection`,x={action:s==="FINAL_SELECT"?"SELECT":"REJECT",remarks:D||null}):(l=`/admin/review/applications/${g}/provisional-action`,x={action:s,remarks:D||null});const n=await $.post(l,x);n.data.success&&(y.success("Application action completed successfully"),v(null),V(""),w&&w(n.data.data),k())}catch(l){y.error(l.response?.data?.message||"Failed to process action")}finally{F(!1)}},j={total:h.length,verified:h.filter(s=>s.verificationStatus==="VERIFIED").length,pending:h.filter(s=>s.verificationStatus==="PENDING").length,rejected:h.filter(s=>s.verificationStatus==="REJECTED").length},P=j.total>0&&j.verified===j.total;return e.jsx(oe,{isOpen:A,onClose:k,title:"Document Verification",size:"customVerificationModal",children:e.jsxs("div",{className:"flex flex-col h-[70vh]",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-1 space-y-4 md:space-y-6 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 border border-slate-100 rounded-xl",children:[e.jsxs("div",{className:"text-center border-r border-slate-200 last:border-0",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:j.total}),e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mt-1",children:"Total"})]}),e.jsxs("div",{className:"text-center border-r border-slate-200 last:border-0",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.verified}),e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mt-1",children:"Verified"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:j.pending}),e.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mt-1",children:"Pending"})]})]}),B?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-3 text-slate-500 text-sm",children:"Loading documents..."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:h.map((s,l)=>{const x=o.find(n=>n.type===s.type&&n.referenceId===s.referenceId);return e.jsx("div",{className:`flex flex-col p-4 border rounded-xl transition-all duration-200 ${x?"border-blue-500 bg-blue-50/30 shadow-sm":"border-slate-200 hover:border-blue-300 hover:shadow-sm bg-white"}`,role:"button",tabIndex:0,onClick:()=>b(s),onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),b(s))},children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"pt-1",children:e.jsx("input",{type:"checkbox",checked:!!x,onChange:n=>{n.stopPropagation(),b(s)},onClick:n=>n.stopPropagation(),className:"w-5 h-5 text-blue-600 rounded border-slate-300 focus:ring-blue-500 cursor-pointer"})}),e.jsx("div",{className:"pt-1",children:q(s.verificationStatus)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-slate-900 text-base leading-tight",children:s.label}),s.verifiedBy&&e.jsxs("div",{className:"text-xs text-slate-500 mt-1.5 flex flex-wrap items-center gap-x-2 gap-y-0.5",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"w-3 h-3"}),"Verified by ",e.jsx("span",{className:"font-medium text-slate-700",children:s.verifiedBy})]}),e.jsx("span",{className:"text-slate-300",children:"|"}),e.jsxs("span",{children:["on ",xe(s.verifiedAt)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 self-end sm:self-center",children:[K(s.verificationStatus),s.path&&e.jsx(me,{src:s.path,fileName:s.doc_type_name||"Document",variant:"button",className:"text-blue-600 hover:bg-blue-50 rounded-lg px-3 py-1.5 border border-transparent hover:border-blue-100 transition-all flex items-center gap-1.5 text-sm font-medium",onClick:n=>n.stopPropagation()})]})]})},`${s.type}-${s.referenceId||"main"}-${l}`)})})]}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-100 bg-white",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 bg-blue-50/50 border border-blue-100 rounded-xl gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx("input",{type:"checkbox",checked:o.length===h.length&&h.length>0,onChange:E,className:"w-5 h-5 text-blue-600 rounded border-slate-300 focus:ring-blue-500 transition-all cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:o.length>0?`${o.length} selected`:"Select All"})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs(f,{onClick:()=>G("VERIFIED"),disabled:o.length===0||N,variant:"primary",className:"flex-1 sm:flex-none bg-green-600 hover:bg-green-700 focus:ring-green-500",size:"sm",children:[e.jsx(H,{className:"w-4 h-4 mr-1.5"}),"Verify Selected"]}),e.jsx(f,{onClick:()=>z("VERIFIED"),disabled:N,variant:"outline",size:"sm",className:"flex-1 sm:flex-none",children:"Verify All"})]})]}),m&&e.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[e.jsxs("h4",{className:"text-base font-semibold text-slate-900 mb-3 flex items-center gap-2",children:["Application Actions",e.jsx("span",{className:"text-xs font-normal text-slate-500 px-2 py-0.5 bg-slate-100 rounded-full",children:m.status})]}),!P&&e.jsxs("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-amber-800 leading-relaxed",children:[e.jsx("span",{className:"font-semibold",children:"Action Required:"})," Provisional selection requires all documents to be verified."]})]}),d?e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-5 space-y-4 animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h5",{className:"font-semibold text-slate-900 flex items-center gap-2",children:[d==="PROVISIONAL_SELECT"||d==="FINAL_SELECT"?e.jsx(H,{className:"w-5 h-5 text-green-600"}):d==="HOLD"?e.jsx(U,{className:"w-5 h-5 text-amber-600"}):e.jsx(M,{className:"w-5 h-5 text-red-600"}),"Confirm ",d==="PROVISIONAL_SELECT"?"Provisional Selection":d==="FINAL_SELECT"?"Final Selection":d==="HOLD"?"Hold":"Rejection"]}),e.jsx("button",{onClick:()=>v(null),className:"text-slate-400 hover:text-slate-600 bg-white hover:bg-slate-100 rounded-full p-1 transition-all",children:e.jsx(M,{className:"w-6 h-6"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Remarks (Optional)"}),e.jsx("textarea",{value:D,onChange:s=>V(s.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 text-sm shadow-sm placeholder:text-slate-400",placeholder:"Enter any remarks..."})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(f,{onClick:()=>v(null),variant:"ghost",size:"sm",disabled:S,children:"Cancel"}),e.jsx(f,{onClick:()=>Q(d),variant:d==="REJECT"?"danger":"primary",className:d==="PROVISIONAL_SELECT"||d==="FINAL_SELECT"?"bg-green-600 hover:bg-green-700 focus:ring-green-500":d==="HOLD"?"bg-amber-500 hover:bg-amber-600 focus:ring-amber-500":"",size:"sm",disabled:S,children:S?"Processing...":"Confirm Action"})]})]}):e.jsxs("div",{className:"flex flex-wrap gap-3",children:[(m.status==="ELIGIBLE"||m.status==="ON_HOLD"||m.status==="SUBMITTED")&&e.jsxs(e.Fragment,{children:[C("applications.approve")&&e.jsx(f,{onClick:()=>v("PROVISIONAL_SELECT"),variant:"primary",className:"bg-green-600 hover:bg-green-700 focus:ring-green-500 shadow-sm",size:"sm",disabled:!P&&!m.document_verified,leftIcon:e.jsx(H,{className:"w-4 h-4"}),children:"Provisional Select"}),C("applications.edit-status")&&e.jsx(f,{onClick:()=>v("HOLD"),variant:"primary",className:"bg-amber-500 hover:bg-amber-600 focus:ring-amber-500 shadow-sm",size:"sm",leftIcon:e.jsx(U,{className:"w-4 h-4"}),children:"Hold"})]}),m.status==="PROVISIONAL_SELECTED"&&C("applications.approve")&&e.jsx(f,{onClick:()=>v("FINAL_SELECT"),variant:"primary",className:"bg-green-600 hover:bg-green-700 focus:ring-green-500 shadow-sm",size:"sm",leftIcon:e.jsx(X,{className:"w-4 h-4"}),children:"Final Select"}),C("applications.reject")&&e.jsx(f,{onClick:()=>v("REJECT"),variant:"danger",size:"sm",className:"shadow-sm ml-auto",leftIcon:e.jsx(M,{className:"w-4 h-4"}),children:"Reject"})]})]})]})]})})},W={ELIGIBLE:"bg-green-100 text-green-700",NOT_ELIGIBLE:"bg-red-100 text-red-700",ON_HOLD:"bg-amber-100 text-amber-700",PROVISIONAL_SELECTED:"bg-yellow-100 text-yellow-700",SELECTED:"bg-emerald-100 text-emerald-700",SELECTED_IN_OTHER_POST:"bg-purple-100 text-purple-700",REJECTED:"bg-red-200 text-red-800"},Oe=()=>{const{postId:A}=ee(),k=se();te();const[g,w]=c.useState([]),[h,O]=c.useState(!0),[B,R]=c.useState({}),[o,u]=c.useState({page:1,limit:50,total:0,totalPages:1}),[N,L]=c.useState(null),[m,J]=c.useState("ELIGIBLE"),[S,F]=c.useState(""),[D,V]=c.useState(""),[d,v]=c.useState([]),[C,T]=c.useState({isOpen:!1,applicationId:null}),{showTooltip:b,scheduleHideTooltip:E,renderTooltip:G}=de();c.useEffect(()=>{(async()=>{try{const t=await ce({is_active:!0});v(Array.isArray(t)?t:t.districts||[])}catch(t){console.error("Failed to load districts",t)}})()},[]);const z=async()=>{O(!0);try{const a=await ne(A,{status:m,district_id:S||void 0,search:D||void 0,page:o.page,limit:o.limit});w(a.applications||[]),R(a.statusSummary||{}),L(a.post||null),u(t=>({...t,total:a.pagination?.total||0,totalPages:a.pagination?.totalPages||1}))}catch{y.error("Failed to load applications")}finally{O(!1)}};c.useEffect(()=>{z()},[A,m,S,D,o.page,o.limit]);const q=(a=0)=>{if(!a)return"—";const t=Math.floor(a/12),r=a%12;return t&&r?`${t}y ${r}m`:t?`${t}y`:`${r}m`},K=(a=[])=>a.length?[...a].sort((r,i)=>(i.educationLevel?.display_order??0)-(r.educationLevel?.display_order??0)).slice(0,3).map(r=>{const i=r.degree_name||r.educationLevel?.level_name||"Education",p=r.stream_subject||r.educationLevel?.level_name_mr||"",_=r.passing_year?`• ${r.passing_year}`:"",I=r.percentage?`• ${r.percentage}%`:"";return`${i}${p?` • ${p}`:""} ${_} ${I}`.trim()}):["No education records"],Q=(a=[])=>a.length?[...a].sort((r,i)=>(i.start_date?new Date(i.start_date).getTime():0)-(r.start_date?new Date(r.start_date).getTime():0)).slice(0,3).map(r=>{const i=r.designation||"Role",p=r.organization_name||"Organisation",_=q(r.total_months),I=r.is_current?"• Current":"";return`${i} @ ${p} • ${_} ${I}`.trim()}):["No experience records"],j=c.useCallback((a,t,r)=>e.jsxs("div",{className:"p-4 space-y-3 text-sm text-slate-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1",children:"Top Education"}),e.jsx("ul",{className:"space-y-1",children:a.map((i,p)=>e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"•"}),e.jsx("span",{children:i})]},`edu-${r}-${p}`))})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1",children:"Experience"}),e.jsx("ul",{className:"space-y-1",children:t.map((i,p)=>e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-slate-400",children:"•"}),e.jsx("span",{children:i})]},`exp-${r}-${p}`))})]})]}),[]),P=c.useCallback((a,t={})=>{const r=t?.applicant?.personal?.full_name||"-",i=K(t?.applicant?.education),p=Q(t?.applicant?.experience),_=t?.application_id;return e.jsx("div",{className:"cursor-pointer font-medium text-slate-900",onMouseEnter:I=>_&&b(I.currentTarget,j(i,p,_),{width:320,estimatedHeight:260}),onMouseLeave:E,onFocus:I=>_&&b(I.currentTarget,j(i,p,_),{width:320,estimatedHeight:260}),onBlur:E,tabIndex:0,children:r})},[j,E,b]),s=c.useCallback(a=>{const t=a?.applicant_total_applications??0,r=a?.applicant_other_applications||[];return e.jsxs("div",{className:"p-4 space-y-3 text-sm text-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total Applications"}),e.jsx("span",{className:"text-base font-semibold text-slate-900",children:t})]}),e.jsxs("div",{className:"border-t border-slate-100 pt-2",children:[e.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 mb-2",children:["Other Applied Posts (",r.length,")"]}),r.length>0?e.jsx("ul",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map((i,p)=>e.jsx("li",{className:"border-b border-slate-100 pb-2 last:border-0",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900 truncate",children:i.post_name||"N/A"}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${W[i.status]||"bg-gray-100 text-gray-700"}`,children:i.status?.replace(/_/g," ")})]}),e.jsxs("div",{className:"text-xs text-slate-500 flex flex-wrap gap-2",children:[e.jsxs("span",{children:["App No: ",i.application_no||"N/A"]}),i.post_code&&e.jsxs("span",{children:["Code: ",i.post_code]})]}),i.district_name&&e.jsxs("div",{className:"text-xs text-slate-500",children:["District: ",i.district_name]})]})},`other-app-${a.application_id}-${p}`))}):e.jsx("p",{className:"text-xs text-slate-500 italic",children:t>1?"Other applications data not available":"No applications in other posts"})]})]})},[]),l=c.useCallback((a,t={})=>{const r=t?.applicant_total_applications??0;return e.jsx("div",{className:"flex justify-center",onMouseEnter:i=>b(i.currentTarget,s(t),{width:384,estimatedHeight:260}),onMouseLeave:E,onFocus:i=>b(i.currentTarget,s(t),{width:384,estimatedHeight:260}),onBlur:E,tabIndex:0,children:e.jsx("span",{className:ae("inline-flex min-w-[2.5rem] items-center justify-center rounded-full px-3 py-1 text-sm font-semibold transition-colors",r>1?"bg-blue-50 text-blue-700 border border-blue-200":"bg-slate-100 text-slate-700 border border-transparent"),children:r})})},[s,E,b]),x=c.useMemo(()=>[{key:"application_no",header:"App No",sortable:!0},{key:"applicant",header:"Applicant",className:"relative overflow-visible",render:P},{key:"total_applications",header:"Total Posts",className:"relative overflow-visible text-center",render:l},{key:"district",header:"District",render:(a,t={})=>t?.applicant?.address?.permanentDistrict?.district_name||"-"},{key:"status",header:"Status",render:(a,t={})=>e.jsx("span",{className:`inline-flex rounded-full px-2 py-1 text-xs font-medium ${W[t.status]||"bg-gray-100"}`,children:t.status?.replace(/_/g," ")})},{key:"actions",header:"Actions",render:(a,t={})=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>t.application_id&&k(`/applications/${t.application_id}`),title:"View Details",children:e.jsx(re,{className:"h-4 w-4"})}),e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>t.application_id&&T({isOpen:!0,applicationId:t.application_id}),title:"Verify Documents",children:e.jsx(le,{className:"h-4 w-4"})})]})}],[k,P,l]),n=c.useCallback(a=>{u(t=>({...t,page:1})),V((a||"").trim())},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>k("/review"),children:e.jsx(he,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Review Applications"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Applications ordered by merit score"})]})]}),N&&e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50/70 p-4 md:p-6 shadow-sm",children:[e.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Current Post"}),e.jsxs("div",{className:"mt-2 flex flex-col md:flex-row md:items-baseline md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-slate-900",children:N.post_name}),e.jsxs("div",{className:"mt-1 text-base text-slate-600",children:[N.component?.component_name?`${N.component.component_name} • `:"",N.district?.district_name||"All Districts"]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm text-slate-600",children:[e.jsxs("div",{className:"rounded-lg bg-white px-3 py-2 shadow-sm border border-slate-100",children:[e.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Post Code"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:N.post_code||"—"})]}),e.jsxs("div",{className:"rounded-lg bg-white px-3 py-2 shadow-sm border border-slate-100",children:[e.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Applications"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:o.total})]}),e.jsxs("div",{className:"rounded-lg bg-white px-3 py-2 shadow-sm border border-slate-100",children:[e.jsx("div",{className:"text-xs uppercase text-slate-400",children:"Status View"}),e.jsx("div",{className:"text-base font-semibold text-slate-900",children:m.replace(/_/g," ")})]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:["ELIGIBLE","ON_HOLD","PROVISIONAL_SELECTED","SELECTED","SELECTED_IN_OTHER_POST","REJECTED"].map(a=>e.jsxs("button",{onClick:()=>{J(a),u(t=>({...t,page:1}))},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m===a?"bg-blue-600 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[a.replace("_"," ")," (",B[a]||0,")"]},a))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4 text-slate-500"}),e.jsxs("select",{value:S,onChange:a=>{F(a.target.value),u(t=>({...t,page:1}))},className:"text-sm border-slate-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Districts"}),d.map(a=>e.jsx("option",{value:a.district_id,children:a.district_name},a.district_id))]})]})]}),e.jsx(ie,{columns:x,data:g,onSearch:n,pagination:{currentPage:o.page,totalPages:o.totalPages,onPageChange:a=>u(t=>({...t,page:a})),pageSize:o.limit,onPageSizeChange:a=>u(t=>({...t,limit:a,page:1})),pageSizeOptions:[20,50,100]},isLoading:h,rowKey:"application_id",enableSelection:!1,headerClassName:"bg-slate-900 text-white"}),e.jsx(je,{isOpen:C.isOpen,onClose:()=>T({isOpen:!1,applicationId:null}),applicationId:C.applicationId,onVerificationComplete:()=>{z()}}),G()]})};export{Oe as default};
