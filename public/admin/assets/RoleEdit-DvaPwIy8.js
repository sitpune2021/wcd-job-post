import{b as g,u as p,r as a,j as l}from"./index-sc-SFr2S.js";import{R}from"./RoleForm-C0H9vrhq.js";import{a as y,u as S}from"./role.service-P1GfBVCx.js";import"./arrow-left-CBBbaZbx.js";const j=()=>{const{id:t}=g(),o=p(),[r,c]=a.useState(null),[u,i]=a.useState(!1),[f,n]=a.useState(!1);a.useEffect(()=>{t&&d(t)},[t]);const d=async s=>{i(!0);try{const e=await y(s);c(e)}catch(e){console.error("Failed to fetch role",e),o("/roles")}finally{i(!1)}},m=async s=>{if(t){n(!0);try{await S(t,s),o("/roles")}catch(e){console.error("Failed to update role",e)}finally{n(!1)}}};return u?l.jsx("div",{children:"Loading..."}):r?l.jsx(R,{title:"Edit Role & Permissions",initialData:r,onSubmit:m,isLoading:f}):null};export{j as default};
