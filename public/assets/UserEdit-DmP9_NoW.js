import{b as g,u as U,r as t,j as u,z as c}from"./index-BLGg1PeM.js";import{U as y}from"./UserForm-f6a5j2bt.js";import{a as S,u as h}from"./user.service-DINH-9xG.js";import"./role.service-Dlz6YB8A.js";import"./Switch-B3deetpO.js";import"./arrow-left-DiDFDe4r.js";const b=()=>{const{id:e}=g(),a=U(),[i,l]=t.useState(null),[d,o]=t.useState(!1),[f,n]=t.useState(!1);t.useEffect(()=>{e&&m(e)},[e]);const m=async r=>{o(!0);try{const s=await S(r);l(s)}catch(s){console.error("Failed to fetch user",s),a("/users")}finally{o(!1)}},p=async r=>{if(e){n(!0);try{await h(e,r),c.success("User updated successfully"),a("/users")}catch(s){console.error("Failed to update user",s),c.error(s.message||"Failed to update user")}finally{n(!1)}}};return d?u.jsx("div",{children:"Loading..."}):i?u.jsx(y,{title:"Edit User",initialData:i,onSubmit:p,isLoading:f}):null};export{b as default};
