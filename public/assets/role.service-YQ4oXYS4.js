import{a as e}from"./index-f2aTh8Q9.js";const l=async s=>(await e.get(`/admin/roles/${s}/wildcards`)).data.data,c=async(s,a,t)=>(await e.post(`/admin/roles/${s}/wildcards`,{wildcard_pattern:a,description:t})).data.data,p=async(s,a)=>{await e.delete(`/admin/roles/${s}/wildcards/${encodeURIComponent(a)}`)},f=async()=>(await e.get("/admin/wildcard-patterns")).data.data,u=async s=>(await e.get("/admin/roles",{params:s})).data.data,m=async s=>(await e.get(`/admin/roles/${s}`)).data.data,g=async s=>{const{permission_ids:a,wildcards:t,...r}=s,o=(await e.post("/admin/roles",r)).data.data;if(a&&a.length>0&&await e.post(`/admin/roles/${o.role_id}/permissions`,{permission_ids:a}),t&&t.length>0)for(const i of t)await c(o.role_id,i,"Assigned on creation");return o},y=async(s,a)=>{const{permission_ids:t,wildcards:r,...d}=a;if(t!==void 0&&await e.post(`/admin/roles/${s}/permissions`,{permission_ids:t}),r!==void 0){const i=(await l(s).catch(()=>[])).map(n=>n.wildcard_pattern);for(const n of i)r.includes(n)||await p(s,n);for(const n of r)i.includes(n)||await c(s,n,"Assigned via role form")}return Object.keys(d).length>0&&await e.put(`/admin/roles/${s}`,d),m(s)},R=async s=>{await e.delete(`/admin/roles/${s}`)},$=async s=>(await e.get("/admin/permissions",{params:{module:s}})).data.data;export{m as a,$ as b,g as c,R as d,f as e,l as f,u as g,y as u};
