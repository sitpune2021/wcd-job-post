import{c as be,j as e,P as Z,B as L,E as je,u as A,r as a,z as p,I as T,q as X,b as $,t as Ne,v as Se,w as C,N as ke}from"./index-BRObMItW.js";import{T as Ce,D as z}from"./DataTable-D6LM067x.js";import{P as R}from"./PageHeader-DZPtRzAy.js";import{P as De}from"./pen-CHlrfFXB.js";import{g as Y,d as we,a as Pe,u as Ee,c as Le,b as Fe,e as Ae,f as Te,h as Ie,i as qe,j as _e,k as Be,l as $e,m as ze,n as Re,o as Me,p as Oe,q as Ue,r as Qe,s as Ge,t as Ke,v as xe,w as He,x as V,y as ve,z as We,A as Je,B as Ye,C as Xe,D as Ze,E as Ve,F as et,G as tt,H as st,I as at,J as rt,K as nt,L as it,M as lt,N as ot,O as ct,P as dt,Q as mt,R as ut,S as pt,T as xt,U as ht,V as gt,W as _t,X as vt,Y as ft,Z as yt,_ as bt,$ as jt,a0 as Nt,a1 as St,a2 as kt,a3 as Ct,a4 as fe,a5 as Dt,a6 as wt,a7 as Pt}from"./master.service-J7lkP8G3.js";import{u as Et}from"./useDebounce-XAFs3ZYN.js";import{A as M}from"./arrow-left-BFV0G2W_.js";import{S as Lt}from"./Switch-CCe21rqg.js";import{M as he}from"./MediaViewer-BhVl93Wv.js";import{U as ge}from"./upload-b9J88q6q.js";import"./triangle-alert-BV9EplDZ.js";import"./plus-1-n6Dkk-.js";import"./DocumentViewer-McUr_BQF.js";import"./download-BP3zuujb.js";const Ft=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],O=be("save",Ft),U=({onView:s,onEdit:m,onDelete:h,viewPermission:o,editPermission:y,deletePermission:x,customActions:j})=>e.jsxs("div",{className:"flex items-center gap-2",children:[j,s&&e.jsx(Z,{permissions:o,fallback:null,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:s,className:"text-slate-500 hover:text-blue-600 hover:bg-blue-50",title:"View",children:e.jsx(je,{className:"h-4 w-4"})})}),m&&e.jsx(Z,{permissions:y,fallback:null,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:m,className:"text-slate-500 hover:text-blue-600 hover:bg-blue-50",title:"Edit",children:e.jsx(De,{className:"h-4 w-4"})})}),h&&e.jsx(Z,{permissions:x,fallback:null,children:e.jsx(L,{variant:"ghost",size:"sm",onClick:h,className:"text-slate-500 hover:text-red-600 hover:bg-red-50",title:"Delete",children:e.jsx(Ce,{className:"h-4 w-4"})})})]}),At=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await Y({page:g,limit:d,search:x,include_inactive:!0});h(i.districts||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch districts",i),p.error(i.message||"Failed to load districts")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{const l=i.map(b=>b.district_id);await Promise.all(l.map(b=>we(b))),p.success("District(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete district")}},D=a.useMemo(()=>[{key:"district_name",header:"Name (EN)",sortable:!0},{key:"district_name_mr",header:"Name (MR)",sortable:!0},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/districts/view/${l.district_id}`),onEdit:()=>s(`/masters/districts/edit/${l.district_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.districts.view",editPermission:"masters.districts.edit",deletePermission:"masters.districts.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Districts",description:"Manage districts master data",actionLabel:"Add District",onAction:()=>s("/masters/districts/add"),permission:"masters.districts.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"district_id",headerClassName:"bg-slate-900 text-white"})]})},Tt=()=>{const[s,m]=a.useState(!1),[h,o]=a.useState([]);return{transliterate:a.useCallback(async(x,j="mr-t-i0-und")=>{if(!x||!x.trim())return"";m(!0);try{const g=`https://inputtools.google.com/request?text=${encodeURIComponent(x)}&itc=${j}&num=5&cp=0&cs=1&ie=utf-8&oe=utf-8`,d=await(await fetch(g)).json();if(d&&d[0]==="SUCCESS"){const _=d[1][0][1][0],n=d[1][0][1];return o(n),_}return x}catch(g){return console.error("Transliteration failed:",g),x}finally{m(!1)}},[]),suggestions:h,loading:s}},I=({label:s,value:m,onChange:h,labelMr:o,valueMr:y,onChangeMr:x,isTextArea:j=!1,required:g=!1,disabled:c=!1,placeholder:d="",placeholderMr:_="",className:n="",error:t,errorMr:u,manualTranslate:r=!1,translateButtonLabel:k="Translate to Marathi"})=>{const{transliterate:f,loading:D}=Tt(),i=Et(m,500),[l,b]=a.useState(!1),P=a.useRef("");a.useEffect(()=>{if(!r){if(!m){y&&x({target:{value:""}}),P.current="";return}i&&i!==P.current&&!c&&(f(i).then(w=>{x({target:{value:w}})}),P.current=i)}},[i,c,r,x,f,m,y]);const N=async()=>{if(!m||c)return;const w=await f(m);x({target:{value:w}}),b(!1)};return r?e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] items-start gap-4 ${n}`,children:[e.jsx("div",{children:j?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[s," ",g&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:m,onChange:h,disabled:c,placeholder:d,className:`w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 shadow-sm min-h-[80px] ${t?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`}),t&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]}):e.jsx(T,{label:s,value:m,onChange:h,required:g,disabled:c,placeholder:d,error:t})}),e.jsx("div",{className:"flex md:flex-col items-center justify-center gap-2 md:mt-8",children:e.jsx("button",{type:"button",onClick:N,className:"px-3 py-2 md:px-4 md:py-2 rounded-lg border border-blue-200 bg-blue-50 hover:bg-blue-100 text-blue-700 text-sm font-medium shadow-sm transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:!m||D||c,children:D?"Translating…":k})}),e.jsx("div",{className:"relative",children:j?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 flex justify-between items-center",children:[e.jsx("span",{children:o||`${s} (Marathi)`}),D&&e.jsx(X,{className:"h-3 w-3 animate-spin text-blue-500"})]}),e.jsx("textarea",{value:y,onChange:w=>{b(!0),x(w)},disabled:c,placeholder:_||d,className:`w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 shadow-sm min-h-[80px] ${u?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`}),u&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:u})]}):e.jsxs("div",{className:"relative",children:[e.jsx(T,{label:o||`${s} (Marathi)`,value:y,onChange:w=>{b(!0),x(w)},disabled:c,placeholder:_||d,error:u}),D&&e.jsx("div",{className:"absolute right-3 top-9",children:e.jsx(X,{className:"h-4 w-4 animate-spin text-blue-500"})})]})})]}):e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 ${n}`,children:[e.jsx("div",{children:j?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:[s," ",g&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:m,onChange:h,disabled:c,placeholder:d,className:`w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 shadow-sm min-h-[80px] ${t?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`}),t&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]}):e.jsx(T,{label:s,value:m,onChange:h,required:g,disabled:c,placeholder:d,error:t})}),e.jsx("div",{className:"relative",children:j?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5 flex justify-between items-center",children:[e.jsx("span",{children:o||`${s} (Marathi)`}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&!c&&e.jsx("button",{type:"button",onClick:N,className:"text-xs px-2 py-1 border border-slate-300 rounded-md bg-white hover:bg-slate-50 text-slate-700 transition-colors",disabled:!m||D,children:k}),D&&e.jsx(X,{className:"h-3 w-3 animate-spin text-blue-500"})]})]}),e.jsx("textarea",{value:y,onChange:w=>{b(!0),x(w)},disabled:c,placeholder:_||d,className:`w-full rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 shadow-sm min-h-[80px] ${u?"border-red-500 focus:border-red-500 focus:ring-red-500/20":""}`}),u&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:u})]}):e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(T,{label:o||`${s} (Marathi)`,value:y,onChange:w=>{b(!0),x(w)},disabled:c,placeholder:_||d,error:u}),r&&!c&&e.jsx("button",{type:"button",onClick:N,className:"ml-2 mt-7 h-10 px-3 border border-slate-300 rounded-lg bg-white hover:bg-slate-50 text-xs text-slate-700 whitespace-nowrap shadow-sm transition-colors",disabled:!m||D,children:D?"Translating...":k})]}),D&&!r&&e.jsx("div",{className:"absolute right-3 top-9",children:e.jsx(X,{className:"h-4 w-4 animate-spin text-blue-500"})})]})})]})},se=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState({district_name:"",district_name_mr:"",is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await Pe(h);d({district_name:t.district_name_en||t.district_name,district_name_mr:t.district_name_mr||"",is_active:t.is_active})}catch(t){console.error("Failed to fetch district",t),p.error("Failed to load district details"),m("/masters/districts")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.district_name){p.error("District Name is required");return}x(!0);try{o?(await Ee(h,c),p.success("District updated successfully")):(await Le(c),p.success("District created successfully")),m("/masters/districts")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save district")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 ml-[-10px]",children:[e.jsx(L,{onClick:()=>m("/masters/districts"),variant:"ghost",leftIcon:e.jsx(M,{className:"h-5 w-5 "})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:s?"View District":o?"Edit District":"Add New District"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(I,{label:"District Name",value:c.district_name,onChange:n=>d(t=>({...t,district_name:n.target.value})),valueMr:c.district_name_mr,onChangeMr:n=>d(t=>({...t,district_name_mr:n.target.value})),placeholder:"Enter district name",placeholderMr:"पुणे",required:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/districts"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update District":"Create District"})]})]})})]})},It=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await Fe({page:g,limit:d,search:x,include_inactive:!0});h(i.talukas||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch talukas",i),p.error(i.message||"Failed to load talukas")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{const l=i.map(b=>b.taluka_id);await Promise.all(l.map(b=>Ae(b))),p.success("Taluka(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete taluka")}},D=a.useMemo(()=>[{key:"taluka_name",header:"Name (EN)",sortable:!0},{key:"taluka_name_mr",header:"Name (MR)",sortable:!0},{key:"district_name",header:"District",sortable:!0,render:(i,l)=>l.district?.district_name||l.district_name||"-"},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/talukas/view/${l.taluka_id}`),onEdit:()=>s(`/masters/talukas/edit/${l.taluka_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.talukas.view",editPermission:"masters.talukas.edit",deletePermission:"masters.talukas.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Talukas",description:"Manage talukas master data",actionLabel:"Add Taluka",onAction:()=>s("/masters/talukas/add"),permission:"masters.talukas.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,deletePermission:"masters.talukas.delete",pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"taluka_id",headerClassName:"bg-slate-900 text-white"})]})},ae=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(!0),[c,d]=a.useState([]),[_,n]=a.useState({taluka_name:"",taluka_name_mr:"",district_id:"",is_active:!0});a.useEffect(()=>{(async()=>{g(!0);try{const r=await Y({is_active:!0}),k=Array.isArray(r)?r:r.districts||[];if(d(k),o||s){const f=await Te(h);n({taluka_name:f.taluka_name_en||f.taluka_name,taluka_name_mr:f.taluka_name_mr||"",district_id:f.district_id||"",is_active:f.is_active})}}catch(r){console.error("Failed to load data",r),p.error("Failed to load form data"),o&&m("/masters/talukas")}finally{g(!1)}})()},[h,o,s,m]);const t=async u=>{if(u.preventDefault(),!_.taluka_name){p.error("Taluka Name is required");return}if(!_.district_id){p.error("District is required");return}x(!0);try{o?(await Ie(h,_),p.success("Taluka updated successfully")):(await qe(_),p.success("Taluka created successfully")),m("/masters/talukas")}catch(r){console.error("Save failed",r),p.error(r.message||"Failed to save taluka")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/talukas"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Taluka":o?"Edit Taluka":"Add New Taluka"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:_.district_id,onChange:u=>n(r=>({...r,district_id:u.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:s,children:[e.jsx("option",{value:"",children:"Select District"}),c.map(u=>e.jsx("option",{value:u.district_id,children:u.district_name},u.district_id))]})]}),e.jsx(I,{label:"Taluka Name",value:_.taluka_name,onChange:u=>n(r=>({...r,taluka_name:u.target.value})),valueMr:_.taluka_name_mr,onChangeMr:u=>n(r=>({...r,taluka_name_mr:u.target.value})),placeholder:"Enter taluka name",placeholderMr:"बारामती",disabled:s,required:!0}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:u=>n(r=>({...r,is_active:u.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/talukas"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Taluka":"Create Taluka"})]})]})})]})},qt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await _e({page:g,limit:d,search:x,include_inactive:!0});h(i.components||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch components",i),p.error(i.message||"Failed to load components")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{const l=i.map(b=>b.component_id);await Promise.all(l.map(b=>Be(b))),p.success("Component(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete component")}},D=a.useMemo(()=>[{key:"component_code",header:"Code",sortable:!0},{key:"component_name",header:"Name (EN)",sortable:!0},{key:"component_name_mr",header:"Name (MR)",sortable:!0},{key:"district",header:"District",sortable:!1,render:(i,l)=>l.district?.district_name||""},{key:"description",header:"Description",sortable:!0},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/components/view/${l.component_id}`),onEdit:()=>s(`/masters/components/edit/${l.component_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.components.view",editPermission:"masters.components.edit",deletePermission:"masters.components.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Components",description:"Manage components master data",actionLabel:"Add Component",onAction:()=>s("/masters/components/add"),permission:"masters.components.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"component_id",headerClassName:"bg-slate-900 text-white"})]})},re=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState([]),[_,n]=a.useState({component_code:"",component_name:"",component_name_mr:"",district_id:"",description:"",description_mr:"",is_active:!0});a.useEffect(()=>{(async()=>{g(!0);try{const r=await Y({is_active:!0}),k=Array.isArray(r)?r:r.districts||[];if(d(k),o||s){const f=await $e(h);n({component_code:f.component_code||"",component_name:f.component_name_en||f.component_name,component_name_mr:f.component_name_mr||"",district_id:f.district_id||"",description:f.description_en||f.description||"",description_mr:f.description_mr||"",is_active:f.is_active})}}catch(r){console.error("Failed to load component form data",r),p.error("Failed to load component details"),(o||s)&&m("/masters/components")}finally{g(!1)}})()},[h,o,s,m]);const t=async u=>{if(u.preventDefault(),!_.component_code){p.error("Component Code is required");return}if(!_.component_name){p.error("Component Name is required");return}x(!0);try{const r={..._};r.district_id=r.district_id===""?null:Number(r.district_id),o?(await ze(h,r),p.success("Component updated successfully")):(await Re(r),p.success("Component created successfully")),m("/masters/components")}catch(r){console.error("Save failed",r),p.error(r.message||"Failed to save component")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/components"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Component":o?"Edit Component":"Add New Component"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Component Code",value:_.component_code,onChange:u=>n(r=>({...r,component_code:u.target.value})),placeholder:"e.g. OSC",required:!0,disabled:o||s}),e.jsx(I,{label:"Component Name",value:_.component_name,onChange:u=>n(r=>({...r,component_name:u.target.value})),valueMr:_.component_name_mr,onChangeMr:u=>n(r=>({...r,component_name_mr:u.target.value})),placeholder:"Enter component name",placeholderMr:"मराठी नाव",disabled:s,required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"District"}),e.jsxs("select",{value:_.district_id,onChange:u=>n(r=>({...r,district_id:u.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s,children:[e.jsx("option",{value:"",children:"Select District"}),c.map(u=>e.jsx("option",{value:u.district_id,children:u.district_name},u.district_id))]})]}),e.jsx(I,{label:"Description",value:_.description,onChange:u=>n(r=>({...r,description:u.target.value})),valueMr:_.description_mr,onChangeMr:u=>n(r=>({...r,description_mr:u.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:u=>n(r=>({...r,is_active:u.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/components"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Component":"Create Component"})]})]})})]})},Bt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await Me({page:g,limit:d,search:x,include_inactive:!0});h(i.departments||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch departments",i),p.error(i.message||"Failed to load departments")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{const l=i.map(b=>b.department_id);await Promise.all(l.map(b=>Oe(b))),p.success("Department(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete department")}},D=a.useMemo(()=>[{key:"department_code",header:"Code",sortable:!0},{key:"department_name",header:"Name (EN)",sortable:!0},{key:"department_name_mr",header:"Name (MR)",sortable:!0},{key:"description",header:"Description",sortable:!0},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/departments/view/${l.department_id}`),onEdit:()=>s(`/masters/departments/edit/${l.department_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.departments.view",editPermission:"masters.departments.edit",deletePermission:"masters.departments.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Departments",description:"Manage department master data",actionLabel:"Add Department",onAction:()=>s("/masters/departments/add"),permission:"masters.departments.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"department_id",headerClassName:"bg-slate-900 text-white"})]})},ne=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState({department_code:"",department_name:"",department_name_mr:"",description:"",description_mr:"",is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await Ue(h);d({department_code:t.department_code||"",department_name:t.department_name_en||t.department_name||"",department_name_mr:t.department_name_mr||"",description:t.description||"",description_mr:t.description_mr||"",is_active:t.is_active})}catch(t){console.error("Failed to fetch department",t),p.error("Failed to load department details"),m("/masters/departments")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.department_code){p.error("Department Code is required");return}if(!c.department_name){p.error("Department Name is required");return}x(!0);try{o?(await Qe(h,c),p.success("Department updated successfully")):(await Ge(c),p.success("Department created successfully")),m("/masters/departments")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save department")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/departments"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Department":o?"Edit Department":"Add New Department"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Department Code",value:c.department_code,onChange:n=>d(t=>({...t,department_code:n.target.value})),placeholder:"e.g. DWCD",required:!0,disabled:o||s}),e.jsx(I,{label:"Department Name",value:c.department_name,onChange:n=>d(t=>({...t,department_name:n.target.value})),valueMr:c.department_name_mr,onChangeMr:n=>d(t=>({...t,department_name_mr:n.target.value})),placeholder:"Women and Child Development",placeholderMr:"महिला आणि बाल विकास विभाग",disabled:s,required:!0}),e.jsx(I,{label:"Description",value:c.description,onChange:n=>d(t=>({...t,description:n.target.value})),valueMr:c.description_mr,onChangeMr:n=>d(t=>({...t,description_mr:n.target.value})),placeholder:"Describe department roles...",placeholderMr:"विभागाची भूमिका...",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/departments"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Department":"Create Department"})]})]})})]})},$t=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),[k,f]=a.useState([]),[D,i]=a.useState(""),[l,b]=a.useState([]),[P,N]=a.useState(!1),[w,K]=a.useState({min_education_level_id:"",max_education_level_id:""}),[S,v]=a.useState([]),[Q,q]=a.useState(!1),W=a.useCallback(async()=>{y(!0);try{const F=await Ke({page:g,limit:d,search:x,include_inactive:!0,district_id:D||void 0});h(F.posts||[]),t(F.pagination?.totalPages||1),r(F.pagination?.total??F.pagination?.totalItems??0)}catch(F){console.error("Failed to fetch posts",F),p.error(F.message||"Failed to load posts")}finally{y(!1)}},[g,d,x,D]);a.useEffect(()=>{W(),G(),ee()},[W]);const G=async()=>{try{const F=await xe({is_active:!0});v(Array.isArray(F)?F:F.educationLevels||[])}catch(F){console.error("Failed to load bulk options",F)}},ee=async()=>{try{const F=await Y({is_active:!0});f(Array.isArray(F)?F:F.districts||[])}catch(F){console.error("Failed to load districts",F)}},J=async F=>{if(!(!F||F.length===0))try{const E=F.map(B=>B.post_id);await Promise.all(E.map(B=>He(B))),p.success("Post(s) deleted successfully"),W(),b([])}catch(E){console.error("Delete failed",E),p.error(E.message||"Failed to delete post")}},H=a.useMemo(()=>[{key:"post_code",header:"Code",sortable:!0},{key:"post_name",header:"Name (EN)",sortable:!0},{key:"component",header:"Component",className:"text-center",render:(F,E)=>E.component?.component_name||"-"},{key:"total_positions",header:"Positions",className:"text-center",render:(F,E)=>`${E.total_positions||0}`},{key:"is_active",header:"Status",className:"text-center",render:(F,E)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${E.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:E.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",className:"text-center",render:(F,E,B)=>e.jsx("div",{className:"flex justify-center",children:e.jsx(U,{onView:()=>s(`/masters/posts/view/${E.post_id}`),onEdit:()=>s(`/masters/posts/edit/${E.post_id}`),onDelete:()=>B?.onDelete?.(),viewPermission:"masters.posts.view",editPermission:"masters.posts.edit",deletePermission:"masters.posts.delete"})})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Posts",description:"Manage posts master data",actionLabel:"Add Post",onAction:()=>s("/masters/posts/add"),permission:"masters.posts.create"}),e.jsx(z,{columns:H,data:m,onSearch:j,showRowNumbers:!0,onDelete:J,onSelectionChange:b,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:F=>{_(F),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"post_id",headerClassName:"bg-slate-900 text-white",extraHeaderContent:e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-md px-3 py-2 shadow-sm",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-600",children:"District"}),e.jsxs("select",{value:D,onChange:F=>{i(F.target.value),c(1)},className:"text-sm bg-white border border-slate-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[160px]",children:[e.jsx("option",{value:"",children:"All Districts"}),k.map(F=>e.jsx("option",{value:F.district_id,children:F.district_name},F.district_id))]})]})})]})},ie=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(!0),[c,d]=a.useState([]),[_,n]=a.useState([]),[t,u]=a.useState([]),[r,k]=a.useState([]),[f,D]=a.useState([]),[i,l]=a.useState([]),[b,P]=a.useState([]),[N,w]=a.useState({post_code:"",post_name:"",post_name_mr:"",description:"",description_mr:"",component_id:"",district_id:"",min_education_level_id:"",max_education_level_id:"",allowed_category_ids:[],min_qualification:"",min_experience_months:"",min_age:"",max_age:"",district_specific:!1,required_domains:"",opening_date:"",closing_date:"",total_positions:"",experience_domain_id:"",is_active:!0});a.useEffect(()=>{(async()=>{g(!0);try{const v=await _e({is_active:!0}),Q=Array.isArray(v)?v:v.components||[];d(Q);const q=await Y({is_active:!0}),W=Array.isArray(q)?q:q.districts||[];D(W);const G=await V({is_active:!0}),ee=Array.isArray(G)?G:G.documentTypes||[];n(ee);const J=await xe({is_active:!0});k(Array.isArray(J)?J:J.educationLevels||[]);const H=await ve({is_active:!0});l(Array.isArray(H)?H:H.domains||H.experienceDomains||[]);const F=Array.isArray(G)?G:G.documentTypes||[];if(P(F.filter(E=>E.is_mandatory)),o||s){const E=await We(h);w({post_code:E.post_code||"",post_name:E.post_name_en||E.post_name||"",post_name_mr:E.post_name_mr||"",description:E.description_en||E.description||"",description_mr:E.description_mr||"",component_id:E.component_id||"",district_id:E.district_id||"",min_education_level_id:E.min_education_level_id||"",max_education_level_id:E.max_education_level_id||"",allowed_category_ids:E.allowed_category_ids||[],min_qualification:E.min_qualification||"",min_experience_months:E.min_experience_months||"",min_age:E.min_age||"",max_age:E.max_age||"",district_specific:E.district_specific||!1,required_domains:E.required_domains||"",opening_date:E.opening_date||"",closing_date:E.closing_date||"",total_positions:E.total_positions||"",experience_domain_id:E.experience_domain_id||"",is_active:E.is_active});try{const B=await Je(h),ye=Array.isArray(B)?B:B.requirements||B||[];u(ye.map(te=>({doc_type_id:te.doc_type_id,requirement_type:te.requirement_type||"M",mandatory_at_application:te.mandatory_at_application!==!1})))}catch(B){console.warn("Failed to load post documents",B)}}}catch(v){console.error("Failed to load data",v),p.error("Failed to load form data"),(o||s)&&m("/masters/posts")}finally{g(!1)}})()},[h,o,s,m]);const K=async S=>{if(S.preventDefault(),!N.post_code){p.error("Post Code is required");return}if(!N.post_name){p.error("Post Name is required");return}if(!N.component_id){p.error("Component is required");return}x(!0);try{const v={...N};if(delete v.allowed_category_ids,v.min_experience_months&&(v.min_experience_months=Number(v.min_experience_months)),v.min_age&&(v.min_age=Number(v.min_age)),v.max_age&&(v.max_age=Number(v.max_age)),v.total_positions&&(v.total_positions=Number(v.total_positions)),v.min_experience_months<0){p.error("Experience cannot be negative"),x(!1);return}if(v.min_age<0){p.error("Min Age cannot be negative"),x(!1);return}if(v.max_age<0){p.error("Max Age cannot be negative"),x(!1);return}if(v.total_positions<0){p.error("Total Positions cannot be negative"),x(!1);return}v.component_id!==""&&(v.component_id=Number(v.component_id)),v.district_id=v.district_id===""?null:Number(v.district_id),v.min_education_level_id=v.min_education_level_id===""?null:Number(v.min_education_level_id),v.max_education_level_id=v.max_education_level_id===""?null:Number(v.max_education_level_id),v.experience_domain_id=v.experience_domain_id===""?null:Number(v.experience_domain_id);let Q=h;if(o)await Ye(h,v),p.success("Post updated successfully");else{const q=await Xe(v);Q=q.post_id||q.id,p.success("Post created successfully")}if(t.length>0||o)try{await Ze(Q,{requirements:t.map(q=>({doc_type_id:Number(q.doc_type_id),requirement_type:q.requirement_type,mandatory_at_application:q.mandatory_at_application}))})}catch(q){console.error("Failed to save documents",q),p.error("Post saved but failed to update document requirements")}m("/masters/posts")}catch(v){console.error("Save failed",v),p.error(v.message||"Failed to save post")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 px-3 md:px-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/posts"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Post":o?"Edit Post":"Add New Post"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:K,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(T,{label:"Post Code",value:N.post_code,onChange:S=>w(v=>({...v,post_code:S.target.value})),placeholder:"e.g. OSC_CA",required:!0,disabled:s||o}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Component ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N.component_id,onChange:S=>w(v=>({...v,component_id:S.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:s,children:[e.jsx("option",{value:"",children:"Select Component"}),c.map(S=>e.jsx("option",{value:S.component_id,children:S.component_name},S.component_id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["District ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N.district_id,onChange:S=>w(v=>({...v,district_id:S.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s,required:!0,children:[e.jsx("option",{value:"",children:"Select District"}),f.map(S=>e.jsx("option",{value:S.district_id,children:S.district_name},S.district_id))]})]}),e.jsx(I,{label:"Post Name",value:N.post_name,onChange:S=>w(v=>({...v,post_name:S.target.value})),valueMr:N.post_name_mr,onChangeMr:S=>w(v=>({...v,post_name_mr:S.target.value})),placeholder:"Center Administrator",placeholderMr:"केंद्र प्रशासक",required:!0,disabled:s,manualTranslate:!0,translateButtonLabel:"Translate",className:"md:col-span-2"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Min Qualification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N.min_education_level_id,onChange:S=>w(v=>({...v,min_education_level_id:S.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s,required:!0,children:[e.jsx("option",{value:"",children:"Select Level"}),r.map(S=>e.jsx("option",{value:S.level_id,children:S.level_name},S.level_id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Max Qualification ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N.max_education_level_id,onChange:S=>w(v=>({...v,max_education_level_id:S.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s,required:!0,children:[e.jsx("option",{value:"",children:"No Limit"}),r.map(S=>e.jsx("option",{value:S.level_id,children:S.level_name},S.level_id))]})]}),e.jsx(T,{label:"Min Experience (Months)",type:"number",value:N.min_experience_months,onChange:S=>w(v=>({...v,min_experience_months:S.target.value})),placeholder:"24",min:"0",disabled:s,required:!0}),e.jsx(T,{label:"Min Age",type:"number",value:N.min_age,onChange:S=>w(v=>({...v,min_age:S.target.value})),placeholder:"21",min:"0",disabled:s,required:!0}),e.jsx(T,{label:"Max Age",type:"number",value:N.max_age,onChange:S=>w(v=>({...v,max_age:S.target.value})),placeholder:"45",min:"0",disabled:s}),e.jsx(T,{label:"Opening Date",type:"date",value:N.opening_date,onChange:S=>{const v=S.target.value;w(Q=>{let q=Q.closing_date;return q&&q<v&&(q=""),{...Q,opening_date:v,closing_date:q}})},disabled:s}),e.jsx(T,{label:"Closing Date",type:"date",value:N.closing_date,min:N.opening_date,onChange:S=>w(v=>({...v,closing_date:S.target.value})),disabled:s||!N.opening_date}),e.jsx(T,{label:"Total Positions",type:"number",value:N.total_positions,onChange:S=>w(v=>({...v,total_positions:S.target.value})),placeholder:"10",min:"0",disabled:s}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Required Experience Domain"}),e.jsxs("select",{value:N.experience_domain_id,onChange:S=>w(v=>({...v,experience_domain_id:S.target.value})),className:"w-full rounded-md border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:s,children:[e.jsx("option",{value:"",children:"Select Experience Domain"}),i.map(S=>e.jsx("option",{value:S.domain_id,children:S.domain_name},S.domain_id))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(I,{label:"Description",value:N.description,onChange:S=>w(v=>({...v,description:S.target.value})),valueMr:N.description_mr,onChangeMr:S=>w(v=>({...v,description_mr:S.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s,manualTranslate:!0,translateButtonLabel:"Translate",className:"md:col-span-2"})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:N.is_active,onChange:S=>w(v=>({...v,is_active:S.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/posts"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Post":"Create Post"})]})]})})]})},zt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await V({page:g,limit:d,search:x,include_inactive:!0});h(i.documentTypes||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch document types",i),p.error(i.message||"Failed to load document types")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{await Promise.all(i.map(l=>Ve(l.doc_type_id))),p.success("Document type(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete document type")}},D=a.useMemo(()=>[{key:"doc_type_code",header:"Code",sortable:!0},{key:"doc_type_name",header:"Name (EN)",sortable:!0},{key:"is_mandatory",header:"Mandatory",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_mandatory?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-700"}`,children:l.is_mandatory?"Yes":"No"})},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/document-types/view/${l.doc_type_id}`),onEdit:()=>s(`/masters/document-types/edit/${l.doc_type_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.document_types.view",editPermission:"masters.document_types.edit",deletePermission:"masters.document_types.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Document Types",description:"Manage document types master data",actionLabel:"Add Document Type",onAction:()=>s("/masters/document-types/add"),permission:"masters.document_types.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"doc_type_id",headerClassName:"bg-slate-900 text-white"})]})},le=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState({doc_type_code:"",doc_type_name:"",doc_type_name_mr:"",description:"",description_mr:"",is_mandatory:!1,allowed_formats:"",max_size_mb:"",is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await et(h);d({doc_type_code:t.doc_type_code||"",doc_type_name:t.doc_type_name_en||t.doc_type_name||"",doc_type_name_mr:t.doc_type_name_mr||"",description:t.description_en||t.description||"",description_mr:t.description_mr||"",is_mandatory:t.is_mandatory||!1,allowed_formats:t.allowed_formats||"",max_size_mb:t.max_size_mb||"",is_active:t.is_active})}catch(t){console.error("Failed to fetch document type",t),p.error("Failed to load document type details"),m("/masters/document-types")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.doc_type_code||!c.doc_type_name){p.error("Code and Name are required");return}x(!0);try{const t={...c};if(t.max_size_mb&&(t.max_size_mb=Number(t.max_size_mb),t.max_size_mb<0)){p.error("Max Size cannot be negative"),x(!1);return}o?(await tt(h,t),p.success("Document type updated successfully")):(await st(t),p.success("Document type created successfully")),m("/masters/document-types")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save document type")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/document-types"),leftIcon:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Document Type":o?"Edit Document Type":"Add New Document Type"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Document Type Code",value:c.doc_type_code,onChange:n=>d(t=>({...t,doc_type_code:n.target.value})),placeholder:"AADHAR",required:!0,disabled:s||o}),e.jsx(I,{label:"Document Type Name",value:c.doc_type_name,onChange:n=>d(t=>({...t,doc_type_name:n.target.value})),valueMr:c.doc_type_name_mr,onChangeMr:n=>d(t=>({...t,doc_type_name_mr:n.target.value})),placeholder:"Aadhaar Card",placeholderMr:"आधार कार्ड",disabled:s,required:!0}),e.jsx(I,{label:"Description",value:c.description,onChange:n=>d(t=>({...t,description:n.target.value})),valueMr:c.description_mr,onChangeMr:n=>d(t=>({...t,description_mr:n.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_mandatory",checked:c.is_mandatory,onChange:n=>d(t=>({...t,is_mandatory:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_mandatory",className:"text-sm font-medium text-slate-700",children:"Mandatory"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/document-types"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update":"Create"})]})]})})]})},Rt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),u=a.useCallback(async()=>{y(!0);try{const f=await at({page:g,limit:d,search:x,include_inactive:!0});h(f.statuses||[]),t(f.pagination?.totalPages||1)}catch(f){console.error("Failed to fetch statuses",f),p.error(f.message||"Failed to load statuses")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{u()},[u]);const r=async f=>{if(!(!f||f.length===0))try{await Promise.all(f.map(D=>rt(D.status_id))),p.success("Status(es) deleted successfully"),u()}catch(D){console.error("Delete failed",D),p.error(D.message||"Failed to delete status")}},k=a.useMemo(()=>[{key:"status_code",header:"Code",sortable:!0},{key:"status_name",header:"Name (EN)",sortable:!0},{key:"display_order",header:"Display Order",sortable:!0},{key:"is_active",header:"Status",render:f=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${f.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:f.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:f=>e.jsx(U,{onView:()=>s(`/masters/application-statuses/view/${f.status_id}`),onEdit:()=>s(`/masters/application-statuses/edit/${f.status_id}`),onDelete:()=>r([f]),viewPermission:"masters.application_statuses.view",editPermission:"masters.application_statuses.edit",deletePermission:"masters.application_statuses.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Application Statuses",description:"Manage application statuses master data",actionLabel:"Add Status",onAction:()=>s("/masters/application-statuses/add"),permission:"masters.application_statuses.create"}),e.jsx(z,{columns:k,data:m,onSearch:j,showRowNumbers:!0,onDelete:r,pagination:{currentPage:g,totalPages:n,onPageChange:c,pageSize:d,onPageSizeChange:_,pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"status_id"})]})},oe=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState({status_code:"",status_name:"",status_name_mr:"",description:"",description_mr:"",display_order:"",is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await nt(h);d({status_code:t.status_code||"",status_name:t.status_name_en||t.status_name||"",status_name_mr:t.status_name_mr||"",description:t.description_en||t.description||"",description_mr:t.description_mr||"",display_order:t.display_order||"",is_active:t.is_active})}catch(t){console.error("Failed to fetch status",t),p.error("Failed to load status details"),m("/masters/application-statuses")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.status_code||!c.status_name){p.error("Code and Name are required");return}x(!0);try{const t={...c};t.display_order&&(t.display_order=Number(t.display_order)),o?(await it(h,t),p.success("Status updated successfully")):(await lt(t),p.success("Status created successfully")),m("/masters/application-statuses")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save status")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/application-statuses"),leftIcon:e.jsx(M,{className:"h-4 w-4"}),children:"Back"}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Status":o?"Edit Status":"Add New Status"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Status Code",value:c.status_code,onChange:n=>d(t=>({...t,status_code:n.target.value})),placeholder:"DRAFT",required:!0,disabled:s||o}),e.jsx(I,{label:"Status Name",value:c.status_name,onChange:n=>d(t=>({...t,status_name:n.target.value})),valueMr:c.status_name_mr,onChangeMr:n=>d(t=>({...t,status_name_mr:n.target.value})),placeholder:"Draft",placeholderMr:"मसुदा",required:!0,disabled:s}),e.jsx(T,{label:"Display Order",type:"number",value:c.display_order,onChange:n=>d(t=>({...t,display_order:n.target.value})),placeholder:"1",disabled:s}),e.jsx(I,{label:"Description",value:c.description,onChange:n=>d(t=>({...t,description:n.target.value})),valueMr:c.description_mr,onChangeMr:n=>d(t=>({...t,description_mr:n.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/application-statuses"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update":"Create"})]})]})})]})},Mt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await xe({page:g,limit:d,search:x,include_inactive:!0});h(i.educationLevels||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch education levels",i),p.error(i.message||"Failed to load education levels")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{await Promise.all(i.map(l=>ot(l.level_id))),p.success("Education level(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete education level")}},D=a.useMemo(()=>[{key:"level_code",header:"Code",sortable:!0},{key:"level_name",header:"Name (EN)",sortable:!0},{key:"doc_type_id",header:"Document Type",render:(i,l)=>e.jsx("span",{className:"text-sm text-slate-600",children:l?.doc_type?.doc_type_code})},{key:"display_order",header:"Display Order",sortable:!0},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/education-levels/view/${l.level_id}`),onEdit:()=>s(`/masters/education-levels/edit/${l.level_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.education_levels.view",editPermission:"masters.education_levels.edit",deletePermission:"masters.education_levels.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Education Levels",description:"Manage education levels master data",actionLabel:"Add Education Level",onAction:()=>s("/masters/education-levels/add"),permission:"masters.education_levels.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"level_id",headerClassName:"bg-slate-900 text-white",showRowNumbers:!0})]})},ce=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState([]),[_,n]=a.useState({level_code:"",level_name:"",level_name_mr:"",description:"",description_mr:"",display_order:"",document_type_id:"",is_active:!0});a.useEffect(()=>{(async()=>{try{const r=await V({include_inactive:!1});d(r.documentTypes||[])}catch(r){console.error("Failed to fetch document types",r),p.error("Failed to load document types")}})()},[]),a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const r=await ct(h);n({level_code:r.level_code||"",level_name:r.level_name_en||r.level_name||"",level_name_mr:r.level_name_mr||"",description:r.description_en||r.description||"",description_mr:r.description_mr||"",display_order:r.display_order||"",document_type_id:r.doc_type_id||"",is_active:r.is_active})}catch(r){console.error("Failed to fetch education level",r),p.error("Failed to load education level details"),m("/masters/education-levels")}finally{g(!1)}})()},[h,o,s,m]);const t=async u=>{if(u.preventDefault(),!_.level_code||!_.level_name){p.error("Code and Name are required");return}x(!0);try{const r={..._};if(r.display_order&&(r.display_order=Number(r.display_order),r.display_order<0)){p.error("Display Order cannot be negative"),x(!1);return}r.document_type_id===""||r.document_type_id===null?r.doc_type_id=null:r.doc_type_id=Number(r.document_type_id),delete r.document_type_id,o?(await dt(h,r),p.success("Education level updated successfully")):(await mt(r),p.success("Education level created successfully")),m("/masters/education-levels")}catch(r){console.error("Save failed",r),p.error(r.message||"Failed to save education level")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/education-levels"),leftIcon:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Education Level":o?"Edit Education Level":"Add New Education Level"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Level Code",value:_.level_code,onChange:u=>n(r=>({...r,level_code:u.target.value})),placeholder:"GRADUATE",required:!0,disabled:s||o}),e.jsx(I,{label:"Level Name",value:_.level_name,onChange:u=>n(r=>({...r,level_name:u.target.value})),valueMr:_.level_name_mr,onChangeMr:u=>n(r=>({...r,level_name_mr:u.target.value})),placeholder:"Graduate (Bachelor's Degree)",placeholderMr:"पदवीधर",disabled:s,required:!0}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsx(T,{label:"Display Order",type:"number",value:_.display_order,onChange:u=>n(r=>({...r,display_order:u.target.value})),placeholder:"30",min:"0",required:!0,disabled:s})}),e.jsx(I,{label:"Description",value:_.description,onChange:u=>n(r=>({...r,description:u.target.value})),valueMr:_.description_mr,onChangeMr:u=>n(r=>({...r,description_mr:u.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:u=>n(r=>({...r,is_active:u.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/education-levels"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update":"Create"})]})]})})]})},Ot=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),u=a.useCallback(async()=>{y(!0);try{const f=await ut({page:g,limit:d,search:x,include_inactive:!0});h(f.categories||[]),t(f.pagination?.totalPages||1)}catch(f){console.error("Failed to fetch categories",f),p.error(f.message||"Failed to load categories")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{u()},[u]);const r=async f=>{if(!(!f||f.length===0))try{const D=f.map(i=>i.category_id);await Promise.all(D.map(i=>pt(i))),p.success("Category(s) deleted successfully"),u()}catch(D){console.error("Delete failed",D),p.error(D.message||"Failed to delete category")}},k=a.useMemo(()=>[{key:"category_code",header:"Code",sortable:!0},{key:"category_name_en",header:"Name (EN)",sortable:!0},{key:"category_name_mr",header:"Name (MR)",sortable:!0},{key:"is_active",header:"Status",render:f=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${f.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:f.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:f=>e.jsx(U,{onView:()=>s(`/masters/categories/view/${f.category_id}`),onEdit:()=>s(`/masters/categories/edit/${f.category_id}`),onDelete:()=>r([f]),viewPermission:"masters.categories.view",editPermission:"masters.categories.edit",deletePermission:"masters.categories.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Categories",description:"Manage category master data",actionLabel:"Add Category",onAction:()=>s("/masters/categories/add"),permission:"masters.categories.create"}),e.jsx(z,{columns:k,data:m,onSearch:j,showRowNumbers:!0,onDelete:r,pagination:{currentPage:g,totalPages:n,onPageChange:c,pageSize:d,onPageSizeChange:f=>{_(f),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"category_id",headerClassName:"bg-slate-900 text-white"})]})},de=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(!1),[c,d]=a.useState({category_code:"",category_name:"",category_name_mr:"",description:"",description_mr:"",display_order:0,is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await xt(h);d({category_code:t.category_code||"",category_name:t.category_name||"",category_name_mr:t.category_name_mr||"",description:t.description||"",description_mr:t.description_mr||"",display_order:t.display_order||0,is_active:t.is_active!==void 0?t.is_active:!0})}catch(t){console.error("Failed to load category",t),p.error("Failed to load category details"),m("/masters/categories")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.category_code||!c.category_name){p.error("Please fill in required fields");return}x(!0);try{const t={...c};o?(await ht(h,t),p.success("Category updated successfully")):(await gt(t),p.success("Category created successfully")),m("/masters/categories")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save category")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/categories"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Category":o?"Edit Category":"Add New Category"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(T,{label:"Category Code ",value:c.category_code,onChange:n=>d(t=>({...t,category_code:n.target.value})),placeholder:"e.g. GEN, OBC",required:!0,disabled:s||o}),e.jsx(I,{label:"Category Name",value:c.category_name,onChange:n=>d(t=>({...t,category_name:n.target.value})),valueMr:c.category_name_mr,onChangeMr:n=>d(t=>({...t,category_name_mr:n.target.value})),placeholder:"General",placeholderMr:"सामान्य",disabled:s,required:!0})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsx(I,{label:"Description",value:c.description,onChange:n=>d(t=>({...t,description:n.target.value})),valueMr:c.description_mr,onChangeMr:n=>d(t=>({...t,description_mr:n.target.value})),placeholder:"Enter description...",placeholderMr:"मराठी वर्णन",isTextArea:!0,disabled:s})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/categories"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update":"Create"})]})]})})]})},Ut=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await ve({page:g,limit:d,search:x,include_inactive:!0}),l=i?.domains||[],b=i?.pagination||{};h(l),t(b.totalPages||1),r(b.total??b.totalItems??0)}catch(i){console.error("Failed to fetch experience domains",i),p.error(i.message||"Failed to load experience domains")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{await Promise.all(i.map(l=>_t(l.domain_id))),p.success("Experience domain(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete experience domain")}},D=a.useMemo(()=>[{key:"domain_code",header:"Code",sortable:!0},{key:"domain_name",header:"Name (EN)",sortable:!0},{key:"domain_name_mr",header:"Name (MR)",sortable:!0},{key:"doc_type_id",header:"Document Type",render:(i,l)=>e.jsx("span",{className:"text-sm text-slate-600",children:l?.doc_type?.doc_type_code})},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/experience-domains/view/${l.domain_id}`),onEdit:()=>s(`/masters/experience-domains/edit/${l.domain_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:["masters.experience-domains.view","masters.experience_domains.view"],editPermission:["masters.experience-domains.update","masters.experience-domains.edit","masters.experience_domains.update","masters.experience_domains.edit"],deletePermission:["masters.experience-domains.delete","masters.experience_domains.delete"]})}],[s]);return console.log("Component state:",{experienceDomains:m,loading:o,page:g,limit:d,totalPages:n,totalItems:u}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Experience Domains",description:"Manage experience domains master data",actionLabel:"Add Experience Domain",onAction:()=>s("/masters/experience-domains/add"),permission:["masters.experience-domains.create","masters.experience_domains.create"]}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"domain_id",headerClassName:"bg-slate-900 text-white"})]})},me=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState([]),[_,n]=a.useState({domain_code:"",domain_name:"",domain_name_mr:"",description:"",description_mr:"",display_order:"",document_type_id:"",is_active:!0});a.useEffect(()=>{(async()=>{try{const r=await V({include_inactive:!1});d(r.documentTypes||[])}catch(r){console.error("Failed to fetch document types",r),p.error("Failed to load document types")}})()},[]),a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const r=await vt(h);n({domain_code:r.domain_code||"",domain_name:r.domain_name||"",domain_name_mr:r.domain_name_mr||"",description:r.description||"",description_mr:r.description_mr||"",display_order:r.display_order||"",document_type_id:r.doc_type_id||"",is_active:r.is_active})}catch(r){console.error("Failed to fetch experience domain",r),p.error("Failed to load experience domain details"),m("/masters/experience-domains")}finally{g(!1)}})()},[h,o,s,m]);const t=async u=>{if(u.preventDefault(),!_.domain_code||!_.domain_name){p.error("Code and Name are required");return}x(!0);try{const r={..._};r.display_order&&(r.display_order=Number(r.display_order)),r.document_type_id===""||r.document_type_id===null?r.doc_type_id=null:r.doc_type_id=Number(r.document_type_id),delete r.document_type_id,o?(await ft(h,r),p.success("Experience domain updated successfully")):(await yt(r),p.success("Experience domain created successfully")),m("/masters/experience-domains")}catch(r){console.error("Save failed",r),p.error(r.message||"Failed to save experience domain")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/experience-domains"),leftIcon:e.jsx(M,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Experience Domain":o?"Edit Experience Domain":"Add New Experience Domain"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:t,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Domain Code",value:_.domain_code,onChange:u=>n(r=>({...r,domain_code:u.target.value})),placeholder:"WOMEN_RELATED",required:!0,disabled:s||o}),e.jsx(I,{label:"Domain Name",value:_.domain_name,onChange:u=>n(r=>({...r,domain_name:u.target.value})),valueMr:_.domain_name_mr,onChangeMr:u=>n(r=>({...r,domain_name_mr:u.target.value})),placeholder:"Women Related Domain",placeholderMr:"महिला संबंधित क्षेत्र",disabled:s,required:!0}),e.jsx(I,{label:"Description",value:_.description,onChange:u=>n(r=>({...r,description:u.target.value})),valueMr:_.description_mr,onChangeMr:u=>n(r=>({...r,description_mr:u.target.value})),placeholder:"Experience in women empowerment...",placeholderMr:"महिला सक्षमीकरण...",isTextArea:!0,disabled:s}),e.jsx("div",{className:"grid grid-cols-2 gap-4"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:u=>n(r=>({...r,is_active:u.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/experience-domains"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update":"Create"})]})]})})]})},Qt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const i=await bt({page:g,limit:d,search:x,include_inactive:!0});h(i.skills||[]),t(i.pagination?.totalPages||1),r(i.pagination?.total??i.pagination?.totalItems??0)}catch(i){console.error("Failed to fetch skills",i),p.error(i.message||"Failed to load skills")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async i=>{if(!(!i||i.length===0))try{const l=i.map(b=>b.skill_id);await Promise.all(l.map(b=>jt(b))),p.success("Skill(s) deleted successfully"),k()}catch(l){console.error("Delete failed",l),p.error(l.message||"Failed to delete skill")}},D=a.useMemo(()=>[{key:"skill_name_en",header:"Name (EN)",sortable:!0,render:(i,l)=>l.skill_name_en||l.skill_name},{key:"skill_name_mr",header:"Name (MR)",sortable:!0},{key:"description",header:"Description (EN)",sortable:!1},{key:"description_mr",header:"Description (MR)",sortable:!1},{key:"is_active",header:"Status",render:(i,l)=>e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${l.is_active?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:l.is_active?"Active":"Inactive"})},{key:"actions",header:"Actions",render:(i,l,b)=>e.jsx(U,{onView:()=>s(`/masters/skills/view/${l.skill_id}`),onEdit:()=>s(`/masters/skills/edit/${l.skill_id}`),onDelete:()=>b?.onDelete?.(),viewPermission:"masters.skills.view",editPermission:"masters.skills.edit",deletePermission:"masters.skills.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Skills",description:"Manage skills master data",actionLabel:"Add Skill",onAction:()=>s("/masters/skills/add"),permission:"masters.skills.create"}),e.jsx(z,{columns:D,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:i=>{_(i),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"skill_id",headerClassName:"bg-slate-900 text-white"})]})},ue=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h,[y,x]=a.useState(!1),[j,g]=a.useState(o||s),[c,d]=a.useState({skill_name:"",skill_name_mr:"",description:"",description_mr:"",is_active:!0});a.useEffect(()=>{(o||s)&&(async()=>{g(!0);try{const t=await Nt(h);d({skill_name:t.skill_name_en||t.skill_name||"",skill_name_mr:t.skill_name_mr||"",description:t.description_en||t.description||"",description_mr:t.description_mr||"",is_active:t.is_active})}catch(t){console.error("Failed to fetch skill",t),p.error("Failed to load skill details"),m("/masters/skills")}finally{g(!1)}})()},[h,o,s,m]);const _=async n=>{if(n.preventDefault(),!c.skill_name){p.error("Skill Name is required");return}x(!0);try{o?(await St(h,c),p.success("Skill updated successfully")):(await kt(c),p.success("Skill created successfully")),m("/masters/skills")}catch(t){console.error("Save failed",t),p.error(t.message||"Failed to save skill")}finally{x(!1)}};return j?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",onClick:()=>m("/masters/skills"),leftIcon:e.jsx(M,{className:"h-4 w-4 mr-2"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s?"View Skill":o?"Edit Skill":"Add New Skill"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(I,{label:"Skill Name",value:c.skill_name,onChange:n=>d(t=>({...t,skill_name:n.target.value})),valueMr:c.skill_name_mr,onChangeMr:n=>d(t=>({...t,skill_name_mr:n.target.value})),placeholder:"Enter skill name",placeholderMr:"कौशल्य",disabled:s,required:!0}),e.jsx(I,{label:"Description",value:c.description,onChange:n=>d(t=>({...t,description:n.target.value})),valueMr:c.description_mr,onChangeMr:n=>d(t=>({...t,description_mr:n.target.value})),placeholder:"Describe the skill...",placeholderMr:"कौशल्याचे वर्णन...",isTextArea:!0,disabled:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:c.is_active,onChange:n=>d(t=>({...t,is_active:n.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:s}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]})]}),!s&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/skills"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:y,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Skill":"Create Skill"})]})]})})]})},Gt=()=>{const s=A(),[m,h]=a.useState([]),[o,y]=a.useState(!0),[x,j]=a.useState(""),[g,c]=a.useState(1),[d,_]=a.useState(10),[n,t]=a.useState(1),[u,r]=a.useState(0),k=a.useCallback(async()=>{y(!0);try{const l=await Ct({page:g,limit:d,search:x,include_inactive:!0});h(l.banners||[]),t(l.pagination?.totalPages||1),r(l.pagination?.total??l.pagination?.totalItems??0)}catch(l){console.error("Failed to fetch banners",l),p.error(l.message||"Failed to load banners")}finally{y(!1)}},[g,d,x]);a.useEffect(()=>{k()},[k]);const f=async l=>{if(!(!l||l.length===0))try{await Promise.all(l.map(b=>Dt(b.banner_id))),p.success("Banner(s) deleted successfully"),k()}catch(b){console.error("Delete failed",b),p.error(b.message||"Failed to delete banner")}},D=async(l,b)=>{try{h(P=>P.map(N=>N.banner_id===l.banner_id?{...N,is_active:b}:N)),await fe(l.banner_id,{is_active:b}),p.success(`Banner ${b?"activated":"deactivated"} successfully`)}catch(P){console.error("Toggle active failed",P),p.error(P.message||"Failed to update status"),h(N=>N.map(w=>w.banner_id===l.banner_id?{...w,is_active:!b}:w))}},i=a.useMemo(()=>[{key:"banner_image_path",header:"Image (EN)",render:(l,b)=>b.banner_image_path?e.jsx(he,{src:`/${b.banner_image_path}`,alt:"Banner (English)",variant:"button",className:"inline-flex"}):e.jsx("span",{className:"text-xs text-slate-400",children:"No image"})},{key:"banner_image_path_mr",header:"Image (MR)",render:(l,b)=>b.banner_image_path_mr?e.jsx(he,{src:`/${b.banner_image_path_mr}`,alt:"Banner (Marathi)",variant:"button",className:"inline-flex"}):e.jsx("span",{className:"text-xs text-slate-400",children:"Not set"})},{key:"display_order",header:"Order",sortable:!0},{key:"is_active",header:"Status",className:"text-center",render:(l,b)=>e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Z,{permissions:"masters.banners.edit",children:e.jsx(Lt,{checked:b.is_active,onCheckedChange:P=>D(b,P)})}),e.jsx("span",{className:`text-xs ${b.is_active?"text-green-600":"text-slate-500"}`,children:b.is_active?"Active":"Inactive"})]})},{key:"actions",header:"Actions",render:(l,b,P)=>e.jsx(U,{onView:()=>s(`/masters/banners/view/${b.banner_id}`),onEdit:()=>s(`/masters/banners/edit/${b.banner_id}`),onDelete:()=>P?.onDelete?.(),viewPermission:"masters.banners.view",editPermission:"masters.banners.edit",deletePermission:"masters.banners.delete"})}],[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{title:"Banners",description:"Manage banner images for the public site",actionLabel:"Add Banner",onAction:()=>s("/masters/banners/add"),permission:"masters.banners.create"}),e.jsx(z,{columns:i,data:m,onSearch:j,showRowNumbers:!0,onDelete:f,pagination:{currentPage:g,totalPages:n,totalItems:u,onPageChange:c,pageSize:d,onPageSizeChange:l=>{_(l),c(1)},pageSizeOptions:[10,25,50,100]},isLoading:o,rowKey:"banner_id",headerClassName:"bg-slate-900 text-white"})]})},pe=({isViewMode:s=!1})=>{const m=A(),{id:h}=$(),o=!!h&&!s,y=!!h&&s,[x,j]=a.useState({display_order:0,is_active:!0,banner_image:null,banner_image_mr:null}),[g,c]=a.useState(null),[d,_]=a.useState(!1),[n,t]=a.useState(o||y),[u,r]=a.useState(null),[k,f]=a.useState(null),D=a.useMemo(()=>P=>{if(!P)return null;if(/^https?:\/\//i.test(P))return P;const N=P.startsWith("/")?P.slice(1):P;return`${Ne}/${N}`},[]);a.useEffect(()=>{(async()=>{if(h){t(!0);try{const N=await wt(h);c(N),j({display_order:N.display_order??0,is_active:N.is_active??!0,banner_image:null,banner_image_mr:null})}catch(N){console.error("Failed to load banner",N),p.error(N.message||"Failed to load banner"),m("/masters/banners")}finally{t(!1)}}})()},[h,o,y,m]);const i=(P,N)=>{j(w=>({...w,[P]:N}))},l=(P,N)=>{const w=P.target.files?.[0];if(w){if(!w.type.match(/^image\/(jpeg|png)$/)){p.error("Only JPEG and PNG images are allowed");return}if(w.size>2*1024*1024){p.error("Image size must be less than 2MB");return}i(N,w);const K=new FileReader;K.onloadend=()=>{N==="banner_image"?r(K.result):f(K.result)},K.readAsDataURL(w)}},b=async P=>{if(P.preventDefault(),!o&&!x.banner_image){p.error("Banner image is required");return}try{_(!0),o?(await fe(h,x),p.success("Banner updated successfully")):(await Pt(x),p.success("Banner created successfully")),m("/masters/banners")}catch(N){console.error("Save failed",N),p.error(N.message||"Failed to save banner")}finally{_(!1)}};return n?e.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 ml-[-10px]",children:[e.jsx(L,{onClick:()=>m("/masters/banners"),variant:"ghost",leftIcon:e.jsx(M,{className:"h-5 w-5"})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold text-slate-900",children:y?"View Banner":o?"Edit Banner":"Add New Banner"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow border border-slate-200 p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-6",children:[e.jsx(T,{label:"Display Order",type:"number",value:x.display_order,onChange:P=>i("display_order",Number(P.target.value)),placeholder:"Enter display order (0 for first)",disabled:y}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:x.is_active,onChange:P=>i("is_active",P.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:y}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-slate-700",children:"Active Status"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Banner Image (English) ",!o&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Upload banner image for English (JPEG/PNG, max 2MB)"}),!y&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Choose Image"})]}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:P=>l(P,"banner_image"),className:"hidden"})]}),x.banner_image&&e.jsx("span",{className:"text-sm text-slate-600",children:x.banner_image.name})]}),(u||g?.banner_image_path)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:u?"New Image Preview":"Current Image"}),e.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:u?e.jsx("img",{src:u,alt:"Banner preview",className:"max-w-full h-auto rounded"}):e.jsx("img",{src:D(g.banner_image_path),alt:"Current banner",className:"max-w-full h-auto rounded cursor-pointer",onClick:P=>{P.preventDefault();const N=D(g.banner_image_path);N&&window.open(N,"_blank")}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Banner Image (Marathi) ",e.jsx("span",{className:"text-slate-500 text-xs",children:"(Optional)"})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Upload banner image for Marathi (JPEG/PNG, max 2MB)"}),!y&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Choose Image"})]}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png",onChange:P=>l(P,"banner_image_mr"),className:"hidden"})]}),x.banner_image_mr&&e.jsx("span",{className:"text-sm text-slate-600",children:x.banner_image_mr.name})]}),(k||g?.banner_image_path_mr)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700 mb-2",children:k?"New Image Preview":"Current Image"}),e.jsx("div",{className:"border border-slate-200 rounded-lg p-4 bg-slate-50",children:k?e.jsx("img",{src:k,alt:"Banner preview (Marathi)",className:"max-w-full h-auto rounded"}):e.jsx("img",{src:D(g.banner_image_path_mr),alt:"Current banner (Marathi)",className:"max-w-full h-auto rounded cursor-pointer",onClick:P=>{P.preventDefault();const N=D(g.banner_image_path_mr);N&&window.open(N,"_blank")}})})]})]})]}),!y&&e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-slate-200",children:[e.jsx(L,{type:"button",variant:"outline",onClick:()=>m("/masters/banners"),children:"Cancel"}),e.jsx(L,{type:"submit",isLoading:d,leftIcon:e.jsx(O,{className:"h-4 w-4"}),children:o?"Update Banner":"Create Banner"})]})]})})]})},is=()=>e.jsxs(Se,{children:[e.jsx(C,{path:"/",element:e.jsx(ke,{to:"districts",replace:!0})}),e.jsx(C,{path:"districts",element:e.jsx(At,{})}),e.jsx(C,{path:"districts/add",element:e.jsx(se,{})}),e.jsx(C,{path:"districts/edit/:id",element:e.jsx(se,{})}),e.jsx(C,{path:"districts/view/:id",element:e.jsx(se,{isViewMode:!0})}),e.jsx(C,{path:"talukas",element:e.jsx(It,{})}),e.jsx(C,{path:"talukas/add",element:e.jsx(ae,{})}),e.jsx(C,{path:"talukas/edit/:id",element:e.jsx(ae,{})}),e.jsx(C,{path:"talukas/view/:id",element:e.jsx(ae,{isViewMode:!0})}),e.jsx(C,{path:"components",element:e.jsx(qt,{})}),e.jsx(C,{path:"components/add",element:e.jsx(re,{})}),e.jsx(C,{path:"components/edit/:id",element:e.jsx(re,{})}),e.jsx(C,{path:"components/view/:id",element:e.jsx(re,{isViewMode:!0})}),e.jsx(C,{path:"departments",element:e.jsx(Bt,{})}),e.jsx(C,{path:"departments/add",element:e.jsx(ne,{})}),e.jsx(C,{path:"departments/edit/:id",element:e.jsx(ne,{})}),e.jsx(C,{path:"departments/view/:id",element:e.jsx(ne,{isViewMode:!0})}),e.jsx(C,{path:"posts",element:e.jsx($t,{})}),e.jsx(C,{path:"posts/add",element:e.jsx(ie,{})}),e.jsx(C,{path:"posts/edit/:id",element:e.jsx(ie,{})}),e.jsx(C,{path:"posts/view/:id",element:e.jsx(ie,{isViewMode:!0})}),e.jsx(C,{path:"document-types",element:e.jsx(zt,{})}),e.jsx(C,{path:"document-types/add",element:e.jsx(le,{})}),e.jsx(C,{path:"document-types/edit/:id",element:e.jsx(le,{})}),e.jsx(C,{path:"document-types/view/:id",element:e.jsx(le,{isViewMode:!0})}),e.jsx(C,{path:"application-statuses",element:e.jsx(Rt,{})}),e.jsx(C,{path:"application-statuses/add",element:e.jsx(oe,{})}),e.jsx(C,{path:"application-statuses/edit/:id",element:e.jsx(oe,{})}),e.jsx(C,{path:"application-statuses/view/:id",element:e.jsx(oe,{isViewMode:!0})}),e.jsx(C,{path:"education-levels",element:e.jsx(Mt,{})}),e.jsx(C,{path:"education-levels/add",element:e.jsx(ce,{})}),e.jsx(C,{path:"education-levels/edit/:id",element:e.jsx(ce,{})}),e.jsx(C,{path:"education-levels/view/:id",element:e.jsx(ce,{isViewMode:!0})}),e.jsx(C,{path:"categories",element:e.jsx(Ot,{})}),e.jsx(C,{path:"categories/add",element:e.jsx(de,{})}),e.jsx(C,{path:"categories/edit/:id",element:e.jsx(de,{})}),e.jsx(C,{path:"categories/view/:id",element:e.jsx(de,{isViewMode:!0})}),e.jsx(C,{path:"experience-domains",element:e.jsx(Ut,{})}),e.jsx(C,{path:"experience-domains/add",element:e.jsx(me,{})}),e.jsx(C,{path:"experience-domains/edit/:id",element:e.jsx(me,{})}),e.jsx(C,{path:"experience-domains/view/:id",element:e.jsx(me,{isViewMode:!0})}),e.jsx(C,{path:"skills",element:e.jsx(Qt,{})}),e.jsx(C,{path:"skills/add",element:e.jsx(ue,{})}),e.jsx(C,{path:"skills/edit/:id",element:e.jsx(ue,{})}),e.jsx(C,{path:"skills/view/:id",element:e.jsx(ue,{isViewMode:!0})}),e.jsx(C,{path:"banners",element:e.jsx(Gt,{})}),e.jsx(C,{path:"banners/add",element:e.jsx(pe,{})}),e.jsx(C,{path:"banners/edit/:id",element:e.jsx(pe,{})}),e.jsx(C,{path:"banners/view/:id",element:e.jsx(pe,{isViewMode:!0})})]});export{is as default};
